!function(){"use strict";angular.module("donna",["ngAnimate","ui.router","oitozero.ngSweetAlert"]).run(["$rootScope","$state","Auth",function(a,s,l){a.$on("$stateChangeStart",function(a,e){l.authorize(e.data.access)||(a.preventDefault(),s.go("anon.login"))})}])}(),function(){"use strict";function a(){var a={restrict:"E",templateUrl:"app/components/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"sidebarCtrl",bindToController:!0};return a}angular.module("donna").directive("sidebar",a)}(),function(){"use strict";function a(a){}angular.module("donna").controller("SidebarController",a),a.$inject=["Auth"]}(),function(){"use strict";function a(a,s){return{getNews:function(){return[]}}}angular.module("donna").factory("News",a),a.$inject=["$http","API"]}(),function(){"use strict";function a(a,s){}angular.module("donna").controller("NewsController",a),a.$inject=["News","SweetAlert"]}(),function(){"use strict";function a(){var a={restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:"NavbarController",controllerAs:"navbarCtrl",bindToController:!0};return a}angular.module("donna").directive("navbar",a)}(),function(){"use strict";function a(a){var s=this;s.logout=function(){a.logout()}}angular.module("donna").controller("NavbarController",a),a.$inject=["Auth"]}(),function(){"use strict";function a(){return{get:function(a){return localStorage.getItem(a)},set:function(a,s){return localStorage.setItem(a,s)},unset:function(a){return localStorage.removeItem(a)}}}function s(a,s,l,e,t){return{authorize:function(a){return a===l.user?this.isAuthenticated():!0},isAuthenticated:function(){return s.get("auth_token")},login:function(l){var t=a.post(e.URL+"/api/auth/login",l);return t.success(function(a){s.set("auth_token",angular.toJson(a))}),t},logout:function(){s.unset("auth_token"),t.go("anon.login")}}}function l(a,s){var l=s.get("LocalService");return{request:function(a){var s;return l.get("auth_token")&&(s=angular.fromJson(l.get("auth_token")).token),s&&(a.headers.Authorization="Bearer "+s),a},responseError:function(e){return(401===e.status||403===e.status)&&(l.unset("auth_token"),s.get("$state").go("anon.login")),a.reject(e)}}}angular.module("donna").factory("LocalService",a).factory("Auth",s).factory("AuthInterceptor",l),s.$inject=["$http","LocalService","AccessLevels","API","$state"],l.$inject=["$q","$injector"]}(),function(){"use strict";function a(a,s,l,e){var t=this;t.login=function(t){l.login(t).success(function(l){return"superadmin"!=l.user.role.name?e.swal("Forbidden","You don't have permissions to access."):(a.globalUser=l.user,void s.go("user.dashboard"))}).error(function(a){e.swal(a.error,a.summary)})}}angular.module("donna").controller("LoginController",a),a.$inject=["$rootScope","$state","Auth","SweetAlert"]}(),function(){"use strict";function a(a,s){return{getData:function(){return a.get(s.URL+"/api/general/dashboardData")}}}angular.module("donna").factory("Dashboard",a),a.$inject=["$http","API"]}(),function(){"use strict";function a(a,s){var l=this;a.getData().success(function(a){l.data=a}).error(function(a){s.swal(a.error,a.summary)})}angular.module("donna").controller("DashboardController",a),a.$inject=["Dashboard","SweetAlert"]}(),function(){"use strict";function a(a,s){console.log(s.authorize(a.data.access))}angular.module("donna").controller("MainController",a),a.$inject=["toState","Auth"]}(),function(){"use strict";function a(a){a.debug("runBlock end")}angular.module("donna").run(a),a.$inject=["$log"]}(),function(){"use strict";function a(a,s,l){a.state("anon",{"abstract":!0,template:"<ui-view/>",data:{access:l.anon}}).state("anon.login",{url:"/login",templateUrl:"app/components/login/login.html",controller:"LoginController",controllerAs:"loginCtrl"}),a.state("user",{"abstract":!0,templateUrl:"app/main/main.html",data:{access:l.user}}).state("user.dashboard",{url:"/",templateUrl:"app/components/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"dashboardCtrl"}).state("user.news",{url:"/news",templateUrl:"app/components/news/news.html",controller:"NewsController",controllerAs:"newsCtrl"}),s.otherwise("/")}angular.module("donna").config(a),a.$inject=["$stateProvider","$urlRouterProvider","AccessLevels"]}(),function(){"use strict";angular.module("donna").constant("API",{URL:"http://localhost:1337"}).constant("AccessLevels",{anon:0,user:1})}(),function(){"use strict";function a(a,s){a.debugEnabled(!0),s.interceptors.push("AuthInterceptor")}angular.module("donna").config(a),a.$inject=["$logProvider","$httpProvider"]}(),angular.module("web").run(["$templateCache",function(a){a.put("app/main/main.html",'<navbar></navbar><sidebar></sidebar><aside class="right-side"><section class="content"><ui-view></ui-view></section></aside>'),a.put("app/components/dashboard/dashboard.html",'<div class="row" style="margin-bottom:5px;"><div class="col-md-3"><div class="sm-st clearfix"><span class="sm-st-icon st-red"><i class="fa fa-check-square-o"></i></span><div class="sm-st-info"><span>{{ dashboardCtrl.data.userNum }}</span> Total Users</div></div></div><div class="col-md-3"><div class="sm-st clearfix"><span class="sm-st-icon st-violet"><i class="fa fa-envelope-o"></i></span><div class="sm-st-info"><span>{{ dashboardCtrl.data.newsNum }}</span> Total News</div></div></div><div class="col-md-3"><div class="sm-st clearfix"><span class="sm-st-icon st-blue"><i class="fa fa-dollar"></i></span><div class="sm-st-info"><span>{{ dashboardCtrl.data.eventNum }}</span> Total Events</div></div></div><div class="col-md-3"><div class="sm-st clearfix"><span class="sm-st-icon st-green"><i class="fa fa-paperclip"></i></span><div class="sm-st-info"><span>{{ dashboardCtrl.data.mediaNum }}</span> Total Media</div></div></div></div>'),a.put("app/components/login/login.html",'<div class="col-lg-6"><section class="panel"><header class="panel-heading">Login Form</header><div class="panel-body"><form class="form-horizontal" role="form" ng-submit="loginCtrl.login(user)"><div class="form-group"><label for="inputEmail1" class="col-lg-2 col-sm-2 control-label">Email</label><div class="col-lg-10"><input ng-model="user.email" type="email" class="form-control" id="inputEmail1" placeholder="Email"><p class="help-block">Example block-level help text here.</p></div></div><div class="form-group"><label for="inputPassword1" class="col-lg-2 col-sm-2 control-label">Password</label><div class="col-lg-10"><input ng-model="user.password" type="password" class="form-control" id="inputPassword1" placeholder="Password"></div></div><div class="form-group"><div class="col-lg-offset-2 col-lg-10"><div class="checkbox"><label><input type="checkbox"> Remember me</label></div></div></div><div class="form-group"><div class="col-lg-offset-2 col-lg-10"><input type="submit" class="btn btn-info" ng-disabled="userForm.$invalid" value="Login"></div></div></form></div></section></div>'),a.put("app/components/navbar/navbar.html",'<header class="header"><a href="index.html" class="logo">Director</a><nav class="navbar navbar-static-top" role="navigation"><a href="#" class="navbar-btn sidebar-toggle" data-toggle="offcanvas" role="button"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></a><div class="navbar-right"><ul class="nav navbar-nav"><li><a href="#" ng-click="navbarCtrl.logout()">Logout</a></li><li class="dropdown messages-menu"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-envelope"></i> <span class="label label-success">4</span></a><ul class="dropdown-menu"><li class="header">You have 4 messages</li><li><div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 200px;"><ul class="menu" style="overflow: hidden; width: 100%; height: 200px;"><li><a href="#"><div class="pull-left"><img src="img/26115.jpg" class="img-circle" alt="User Image"></div><h4>Support Team</h4><p>Why not buy a new awesome theme?</p><small class="pull-right"><i class="fa fa-clock-o"></i> 5 mins</small></a></li><li><a href="#"><div class="pull-left"><img src="img/26115.jpg" class="img-circle" alt="user image"></div><h4>Director Design Team</h4><p>Why not buy a new awesome theme?</p><small class="pull-right"><i class="fa fa-clock-o"></i> 2 hours</small></a></li><li><a href="#"><div class="pull-left"><img src="img/avatar.png" class="img-circle" alt="user image"></div><h4>Developers</h4><p>Why not buy a new awesome theme?</p><small class="pull-right"><i class="fa fa-clock-o"></i> Today</small></a></li><li><a href="#"><div class="pull-left"><img src="img/26115.jpg" class="img-circle" alt="user image"></div><h4>Sales Department</h4><p>Why not buy a new awesome theme?</p><small class="pull-right"><i class="fa fa-clock-o"></i> Yesterday</small></a></li><li><a href="#"><div class="pull-left"><img src="img/avatar.png" class="img-circle" alt="user image"></div><h4>Reviewers</h4><p>Why not buy a new awesome theme?</p><small class="pull-right"><i class="fa fa-clock-o"></i> 2 days</small></a></li></ul><div class="slimScrollBar" style="width: 3px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 5px; z-index: 99; right: 1px; background: rgb(0, 0, 0);"></div><div class="slimScrollRail" style="width: 3px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 5px; opacity: 0.2; z-index: 90; right: 1px; background: rgb(51, 51, 51);"></div></div></li><li class="footer"><a href="#">See All Messages</a></li></ul></li><li class="dropdown tasks-menu"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-tasks"></i> <span class="label label-danger">9</span></a><ul class="dropdown-menu"><li class="header">You have 9 tasks</li><li><div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 200px;"><ul class="menu" style="overflow: hidden; width: 100%; height: 200px;"><li><a href="#"><h3>Design some buttons <small class="pull-right">20%</small></h3><div class="progress progress-striped xs"><div class="progress-bar progress-bar-success" style="width: 20%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"><span class="sr-only">20% Complete</span></div></div></a></li><li><a href="#"><h3>Create a nice theme <small class="pull-right">40%</small></h3><div class="progress progress-striped xs"><div class="progress-bar progress-bar-danger" style="width: 40%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"><span class="sr-only">40% Complete</span></div></div></a></li><li><a href="#"><h3>Some task I need to do <small class="pull-right">60%</small></h3><div class="progress progress-striped xs"><div class="progress-bar progress-bar-info" style="width: 60%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"><span class="sr-only">60% Complete</span></div></div></a></li><li><a href="#"><h3>Make beautiful transitions <small class="pull-right">80%</small></h3><div class="progress progress-striped xs"><div class="progress-bar progress-bar-warning" style="width: 80%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"><span class="sr-only">80% Complete</span></div></div></a></li></ul><div class="slimScrollBar" style="width: 3px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 5px; z-index: 99; right: 1px; background: rgb(0, 0, 0);"></div><div class="slimScrollRail" style="width: 3px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 5px; opacity: 0.2; z-index: 90; right: 1px; background: rgb(51, 51, 51);"></div></div></li><li class="footer"><a href="#">View all tasks</a></li></ul></li><li class="dropdown user user-menu"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> <span>Jane Doe <i class="caret"></i></span></a><ul class="dropdown-menu dropdown-custom dropdown-menu-right"><li class="dropdown-header text-center">Account</li><li><a href="#"><i class="fa fa-clock-o fa-fw pull-right"></i> <span class="badge badge-success pull-right">10</span> Updates</a> <a href="#"><i class="fa fa-envelope-o fa-fw pull-right"></i> <span class="badge badge-danger pull-right">5</span> Messages</a> <a href="#"><i class="fa fa-magnet fa-fw pull-right"></i> <span class="badge badge-info pull-right">3</span> Subscriptions</a> <a href="#"><i class="fa fa-question fa-fw pull-right"></i> <span class="badge pull-right">11</span> FAQ</a></li><li class="divider"></li><li><a href="#"><i class="fa fa-user fa-fw pull-right"></i> Profile</a> <a data-toggle="modal" href="#modal-user-settings"><i class="fa fa-cog fa-fw pull-right"></i> Settings</a></li><li class="divider"></li><li><a href="#"><i class="fa fa-ban fa-fw pull-right"></i> Logout</a></li></ul></li></ul></div></nav></header>'),a.put("app/components/news/news.html",""),a.put("app/components/sidebar/sidebar.html",'<aside class="left-side sidebar-offcanvas" style="min-height: 1546px;"><section class="sidebar"><div class="user-panel"><div class="pull-left image"><img src="img/26115.jpg" class="img-circle" alt="User Image"></div><div class="pull-left info"><p>Hello, {{ globalUser.email }}</p><a href="#"><i class="fa fa-circle text-success"></i> Online</a></div></div><form action="#" method="get" class="sidebar-form"><div class="input-group"><input type="text" name="q" class="form-control" placeholder="Search..."> <span class="input-group-btn"><button type="submit" name="seach" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button></span></div></form><ul class="sidebar-menu"><li class="active"><a href="#/"><i class="fa fa-dashboard"></i> <span>Dashboard</span></a></li><li><a href="#/news"><i class="fa fa-gavel"></i> <span>News</span></a></li><li><a href="#/events"><i class="fa fa-globe"></i> <span>Events</span></a></li><li><a href="#/gallery"><i class="fa fa-glass"></i> <span>Gallery</span></a></li></ul></section></aside>')}]);
//# sourceMappingURL=../maps/scripts/app-63078d722f.js.map
