{"version":3,"sources":["scripts/app-f02bd7971d.js"],"names":["angular","module","run","$rootScope","$state","Auth","$on","event","toState","authorize","data","access","preventDefault","go","LocalService","get","key","localStorage","getItem","set","val","setItem","unset","removeItem","$http","AccessLevels","API","user","this","isAuthenticated","login","post","URL","success","result","toJson","logout","AuthInterceptor","$q","$injector","request","config","token","fromJson","headers","Authorization","responseError","response","status","reject","factory","$inject","LoginController","SweetAlert","vm","console","log","error","swal","summary","controller","navbar","directive","restrict","templateUrl","controllerAs","bindToController","NavbarController","DashboardController","MainController","runBlock","$log","debug","routerConfig","$stateProvider","$urlRouterProvider","state","abstract","template","anon","url","otherwise","constant","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-f02bd7971d.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('donna', ['ngAnimate', 'ui.router', 'oitozero.ngSweetAlert'])\n\n      .run(function($rootScope, $state, Auth) {\n\n        $rootScope.$on('$stateChangeStart', function(event, toState) {\n          if (!Auth.authorize(toState.data.access)) {\n            event.preventDefault();\n\n            $state.go('anon.login');\n          }\n        });\n      });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('donna')\n        .factory('LocalService', LocalService)\n        .factory('Auth', Auth)\n        .factory('AuthInterceptor', AuthInterceptor);\n\n    /** @ngInject */\n    function LocalService() {\n        return {\n            get: function (key) {\n                return localStorage.getItem(key);\n            },\n            set: function (key, val) {\n                return localStorage.setItem(key, val);\n            },\n            unset: function (key) {\n                return localStorage.removeItem(key);\n            }\n        }\n    }\n    function Auth($http, LocalService, AccessLevels, API) {\n        return {\n            authorize: function (access) {\n                if (access === AccessLevels.user) {\n                    return this.isAuthenticated();\n                } else {\n                    return true;\n                }\n            },\n            isAuthenticated: function () {\n                return LocalService.get('auth_token');\n            },\n            login: function (user) {\n                var login = $http.post(API.URL + '/api/auth/login', user);\n                login.success(function (result) {\n                    LocalService.set('auth_token', angular.toJson(result));\n                });\n                return login;\n            },\n            logout: function () {\n                // The backend doesn't care about logouts, delete the token and you're good to go.\n                LocalService.unset('auth_token');\n            }\n        }\n    }\n\n    function AuthInterceptor($q, $injector) {\n        var LocalService = $injector.get('LocalService');\n\n        return {\n            request: function (config) {\n                var token;\n                if (LocalService.get('auth_token')) {\n                    token = angular.fromJson(LocalService.get('auth_token')).token;\n                }\n                if (token) {\n                    config.headers.Authorization = 'Bearer ' + token;\n                }\n                return config;\n            },\n            responseError: function (response) {\n                if (response.status === 401 || response.status === 403) {\n                    LocalService.unset('auth_token');\n                    $injector.get('$state').go('login');\n                }\n                return $q.reject(response);\n            }\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('donna')\n        .controller('LoginController', LoginController);\n\n    /** @ngInject */\n    function LoginController($state, Auth, SweetAlert) {\n        var vm = this;\n\n        vm.login = function(user) {\n\n            console.log(user);\n\n            Auth.login(user).success(function () {\n                $state.go('app.dashboard');\n            }).error(function (data) {\n                SweetAlert.swal(data.error, data.summary);\n            });\n        };\n    }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('donna')\n    .directive('navbar', navbar);\n\n  /** @ngInject */\n  function navbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      controller: 'NavbarController',\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n  }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('donna')\n        .controller('NavbarController', NavbarController);\n\n    /** @ngInject */\n    function NavbarController() {\n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('donna')\n        .controller('DashboardController', DashboardController);\n\n    /** @ngInject */\n    function DashboardController() {\n\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('donna')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController() {\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('donna')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('donna')\n        .config(routerConfig);\n\n    /** @ngInject */\n    function routerConfig($stateProvider, $urlRouterProvider, AccessLevels) {\n        $stateProvider\n            .state('anon', {\n                abstract: true,\n                template: '<ui-view/>',\n                data: {\n                    access: AccessLevels.anon\n                }\n            })\n            .state('anon.login', {\n                url: '/',\n                templateUrl: 'app/components/login/login.html'\n            });\n\n        $stateProvider\n            .state('user', {\n                abstract: true,\n                template: '<ui-view/>',\n                data: {\n                    access: AccessLevels.user\n                }\n            })\n            .state('user.dashboard', {\n                url: '/',\n                templateUrl: 'app/components/dashboard/dashboard.html'\n            });\n\n        $urlRouterProvider.otherwise('/');\n    }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n      .module('donna')\n      .constant('API', {\n        URL: 'http://localhost:1337'\n      })\n\n      .constant('AccessLevels', {\n        anon: 0,\n        user: 1\n      })\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('donna')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n  }\n\n})();\n\nangular.module(\"web\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<navbar></navbar><sidebar></sidebar><ui-view></ui-view>\");\n$templateCache.put(\"app/components/dashboard/dashboard.html\",\"<h1>TEST</h1>\");\n$templateCache.put(\"app/components/login/login.html\",\"<div class=\\\"col-lg-6\\\"><section class=\\\"panel\\\"><header class=\\\"panel-heading\\\">Login Form</header><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"loginCtrl.login(user)\\\"><div class=\\\"form-group\\\"><label for=\\\"inputEmail1\\\" class=\\\"col-lg-2 col-sm-2 control-label\\\">Email</label><div class=\\\"col-lg-10\\\"><input ng-model=\\\"user.email\\\" type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"inputEmail1\\\" placeholder=\\\"Email\\\"><p class=\\\"help-block\\\">Example block-level help text here.</p></div></div><div class=\\\"form-group\\\"><label for=\\\"inputPassword1\\\" class=\\\"col-lg-2 col-sm-2 control-label\\\">Password</label><div class=\\\"col-lg-10\\\"><input ng-model=\\\"user.password\\\" type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"inputPassword1\\\" placeholder=\\\"Password\\\"></div></div><div class=\\\"form-group\\\"><div class=\\\"col-lg-offset-2 col-lg-10\\\"><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\"> Remember me</label></div></div></div><div class=\\\"form-group\\\"><div class=\\\"col-lg-offset-2 col-lg-10\\\"><input type=\\\"submit\\\" class=\\\"btn btn-info\\\" ng-disabled=\\\"userForm.$invalid\\\" value=\\\"Login\\\"></div></div></form></div></section></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<header class=\\\"header\\\"><a href=\\\"index.html\\\" class=\\\"logo\\\">Director</a><nav class=\\\"navbar navbar-static-top\\\" role=\\\"navigation\\\"><a href=\\\"#\\\" class=\\\"navbar-btn sidebar-toggle\\\" data-toggle=\\\"offcanvas\\\" role=\\\"button\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></a><div class=\\\"navbar-right\\\"><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown messages-menu\\\"><a href=\\\"#\\\" class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\"><i class=\\\"fa fa-envelope\\\"></i> <span class=\\\"label label-success\\\">4</span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"header\\\">You have 4 messages</li><li><div class=\\\"slimScrollDiv\\\" style=\\\"position: relative; overflow: hidden; width: auto; height: 200px;\\\"><ul class=\\\"menu\\\" style=\\\"overflow: hidden; width: 100%; height: 200px;\\\"><li><a href=\\\"#\\\"><div class=\\\"pull-left\\\"><img src=\\\"img/26115.jpg\\\" class=\\\"img-circle\\\" alt=\\\"User Image\\\"></div><h4>Support Team</h4><p>Why not buy a new awesome theme?</p><small class=\\\"pull-right\\\"><i class=\\\"fa fa-clock-o\\\"></i> 5 mins</small></a></li><li><a href=\\\"#\\\"><div class=\\\"pull-left\\\"><img src=\\\"img/26115.jpg\\\" class=\\\"img-circle\\\" alt=\\\"user image\\\"></div><h4>Director Design Team</h4><p>Why not buy a new awesome theme?</p><small class=\\\"pull-right\\\"><i class=\\\"fa fa-clock-o\\\"></i> 2 hours</small></a></li><li><a href=\\\"#\\\"><div class=\\\"pull-left\\\"><img src=\\\"img/avatar.png\\\" class=\\\"img-circle\\\" alt=\\\"user image\\\"></div><h4>Developers</h4><p>Why not buy a new awesome theme?</p><small class=\\\"pull-right\\\"><i class=\\\"fa fa-clock-o\\\"></i> Today</small></a></li><li><a href=\\\"#\\\"><div class=\\\"pull-left\\\"><img src=\\\"img/26115.jpg\\\" class=\\\"img-circle\\\" alt=\\\"user image\\\"></div><h4>Sales Department</h4><p>Why not buy a new awesome theme?</p><small class=\\\"pull-right\\\"><i class=\\\"fa fa-clock-o\\\"></i> Yesterday</small></a></li><li><a href=\\\"#\\\"><div class=\\\"pull-left\\\"><img src=\\\"img/avatar.png\\\" class=\\\"img-circle\\\" alt=\\\"user image\\\"></div><h4>Reviewers</h4><p>Why not buy a new awesome theme?</p><small class=\\\"pull-right\\\"><i class=\\\"fa fa-clock-o\\\"></i> 2 days</small></a></li></ul><div class=\\\"slimScrollBar\\\" style=\\\"width: 3px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 5px; z-index: 99; right: 1px; background: rgb(0, 0, 0);\\\"></div><div class=\\\"slimScrollRail\\\" style=\\\"width: 3px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 5px; opacity: 0.2; z-index: 90; right: 1px; background: rgb(51, 51, 51);\\\"></div></div></li><li class=\\\"footer\\\"><a href=\\\"#\\\">See All Messages</a></li></ul></li><li class=\\\"dropdown tasks-menu\\\"><a href=\\\"#\\\" class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\"><i class=\\\"fa fa-tasks\\\"></i> <span class=\\\"label label-danger\\\">9</span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"header\\\">You have 9 tasks</li><li><div class=\\\"slimScrollDiv\\\" style=\\\"position: relative; overflow: hidden; width: auto; height: 200px;\\\"><ul class=\\\"menu\\\" style=\\\"overflow: hidden; width: 100%; height: 200px;\\\"><li><a href=\\\"#\\\"><h3>Design some buttons <small class=\\\"pull-right\\\">20%</small></h3><div class=\\\"progress progress-striped xs\\\"><div class=\\\"progress-bar progress-bar-success\\\" style=\\\"width: 20%\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"20\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"><span class=\\\"sr-only\\\">20% Complete</span></div></div></a></li><li><a href=\\\"#\\\"><h3>Create a nice theme <small class=\\\"pull-right\\\">40%</small></h3><div class=\\\"progress progress-striped xs\\\"><div class=\\\"progress-bar progress-bar-danger\\\" style=\\\"width: 40%\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"20\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"><span class=\\\"sr-only\\\">40% Complete</span></div></div></a></li><li><a href=\\\"#\\\"><h3>Some task I need to do <small class=\\\"pull-right\\\">60%</small></h3><div class=\\\"progress progress-striped xs\\\"><div class=\\\"progress-bar progress-bar-info\\\" style=\\\"width: 60%\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"20\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"><span class=\\\"sr-only\\\">60% Complete</span></div></div></a></li><li><a href=\\\"#\\\"><h3>Make beautiful transitions <small class=\\\"pull-right\\\">80%</small></h3><div class=\\\"progress progress-striped xs\\\"><div class=\\\"progress-bar progress-bar-warning\\\" style=\\\"width: 80%\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"20\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"><span class=\\\"sr-only\\\">80% Complete</span></div></div></a></li></ul><div class=\\\"slimScrollBar\\\" style=\\\"width: 3px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 5px; z-index: 99; right: 1px; background: rgb(0, 0, 0);\\\"></div><div class=\\\"slimScrollRail\\\" style=\\\"width: 3px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 5px; opacity: 0.2; z-index: 90; right: 1px; background: rgb(51, 51, 51);\\\"></div></div></li><li class=\\\"footer\\\"><a href=\\\"#\\\">View all tasks</a></li></ul></li><li class=\\\"dropdown user user-menu\\\"><a href=\\\"#\\\" class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\"><i class=\\\"fa fa-user\\\"></i> <span>Jane Doe <i class=\\\"caret\\\"></i></span></a><ul class=\\\"dropdown-menu dropdown-custom dropdown-menu-right\\\"><li class=\\\"dropdown-header text-center\\\">Account</li><li><a href=\\\"#\\\"><i class=\\\"fa fa-clock-o fa-fw pull-right\\\"></i> <span class=\\\"badge badge-success pull-right\\\">10</span> Updates</a> <a href=\\\"#\\\"><i class=\\\"fa fa-envelope-o fa-fw pull-right\\\"></i> <span class=\\\"badge badge-danger pull-right\\\">5</span> Messages</a> <a href=\\\"#\\\"><i class=\\\"fa fa-magnet fa-fw pull-right\\\"></i> <span class=\\\"badge badge-info pull-right\\\">3</span> Subscriptions</a> <a href=\\\"#\\\"><i class=\\\"fa fa-question fa-fw pull-right\\\"></i> <span class=\\\"badge pull-right\\\">11</span> FAQ</a></li><li class=\\\"divider\\\"></li><li><a href=\\\"#\\\"><i class=\\\"fa fa-user fa-fw pull-right\\\"></i> Profile</a> <a data-toggle=\\\"modal\\\" href=\\\"#modal-user-settings\\\"><i class=\\\"fa fa-cog fa-fw pull-right\\\"></i> Settings</a></li><li class=\\\"divider\\\"></li><li><a href=\\\"#\\\"><i class=\\\"fa fa-ban fa-fw pull-right\\\"></i> Logout</a></li></ul></li></ul></div></nav></header>\");}]);"],"sourceRoot":"/source/"}